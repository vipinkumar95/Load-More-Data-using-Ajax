@model IEnumerable<LoadMoreData.Models.loading>


<div id="DivUpdate">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.age)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.department)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.salary)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.age)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.department)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.salary)
                </td>

            </tr>


        }

        @{
            if (Convert.ToInt32(Session["data"]) > Model.Count())
            {

            }
            else
            {
                <tr>
                    <td>
                        @Ajax.ActionLink("Load More data", "Index", "Home",
                        new AjaxOptions()
                        {
                            HttpMethod = "POST",
                            InsertionMode = InsertionMode.Replace,
                            UpdateTargetId = "DivUpdate",
                            LoadingElementId = "loader",
                        },
                        new { @class = "btn btn-info" }
                       )
                    </td>
                </tr>
            }
        }



    </table>
    </div>
    <script src="~/Scripts/jquery-3.7.0.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
